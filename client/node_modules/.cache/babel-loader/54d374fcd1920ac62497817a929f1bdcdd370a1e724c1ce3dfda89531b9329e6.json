{"ast":null,"code":"var _jsxFileName = \"/Users/timothyjensen/Development/code/phase-5/phase-5-project-the-vault/client/src/components/Article.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ReactMarkdown from \"react-markdown\";\nimport Paywall from \"./Paywall\";\nimport { makeEmojiList } from \"../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  article: null,\n  error: null,\n  status: \"pending\"\n};\nfunction Article() {\n  _s();\n  const [{\n    article,\n    error,\n    status\n  }, setState] = useState(initialState);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    setState(initialState);\n    fetch(`/articles/${id}`).then(r => {\n      if (r.ok) {\n        r.json().then(article => setState({\n          article,\n          error: null,\n          status: \"resolved\"\n        }));\n      } else {\n        r.json().then(message => setState({\n          article: null,\n          error: message.error,\n          status: \"rejected\"\n        }));\n      }\n    });\n  }, [id]);\n  if (status === \"pending\") return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 36\n  }, this);\n  if (status === \"rejected\") {\n    if (error === \"Maximum pageview limit reached\") {\n      return /*#__PURE__*/_jsxDEV(Paywall, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 14\n      }, this);\n    }\n  }\n  const {\n    title,\n    author,\n    date,\n    content,\n    minutes_to_read\n  } = article;\n  const emojis = makeEmojiList(minutes_to_read);\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [date, \" \\u2022 \", emojis, \" \", minutes_to_read, \" min read\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"Written by \", author]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Article, \"teFWyR8WViQKgaPTFalblCVTBpY=\", false, function () {\n  return [useParams];\n});\n_c = Article;\nexport default Article;\nvar _c;\n$RefreshReg$(_c, \"Article\");","map":{"version":3,"names":["useEffect","useState","useParams","ReactMarkdown","Paywall","makeEmojiList","jsxDEV","_jsxDEV","initialState","article","error","status","Article","_s","setState","id","fetch","then","r","ok","json","message","children","fileName","_jsxFileName","lineNumber","columnNumber","title","author","date","content","minutes_to_read","emojis","_c","$RefreshReg$"],"sources":["/Users/timothyjensen/Development/code/phase-5/phase-5-project-the-vault/client/src/components/Article.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ReactMarkdown from \"react-markdown\";\nimport Paywall from \"./Paywall\";\nimport { makeEmojiList } from \"../utils\";\n\nconst initialState = {\n  article: null,\n  error: null,\n  status: \"pending\",\n};\n\nfunction Article() {\n  const [{ article, error, status }, setState] = useState(initialState);\n  const { id } = useParams();\n\n  useEffect(() => {\n    setState(initialState);\n    fetch(`/articles/${id}`).then((r) => {\n      if (r.ok) {\n        r.json().then((article) =>\n          setState({ article, error: null, status: \"resolved\" })\n        );\n      } else {\n        r.json().then((message) =>\n          setState({ article: null, error: message.error, status: \"rejected\" })\n        );\n      }\n    });\n  }, [id]);\n\n  if (status === \"pending\") return <h1>Loading...</h1>;\n\n  if (status === \"rejected\") {\n    if (error === \"Maximum pageview limit reached\") {\n      return <Paywall />;\n    } else {\n      return <h1>{error}</h1>;\n    }\n  }\n\n  const { title, author, date, content, minutes_to_read } = article;\n  const emojis = makeEmojiList(minutes_to_read);\n\n  return (\n    <article>\n      <h1>{title}</h1>\n      <small>\n        <p>\n          {date} â€¢ {emojis} {minutes_to_read} min read\n        </p>\n        <p>\n          <em>Written by {author}</em>\n        </p>\n      </small>\n      <ReactMarkdown>{content}</ReactMarkdown>\n    </article>\n  );\n}\n\nexport default Article;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}